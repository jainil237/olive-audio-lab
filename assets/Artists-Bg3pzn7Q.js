import{c as W,j as e,P as M,a as P,u as L,r as x,S as B,A as y}from"./index-Cc9ETlLz.js";import{A as R}from"./ArtistCard-DOHr2XRL.js";import{M as C}from"./Modal-CQEy1vg2.js";import{a as _}from"./square-pen-Cwn3-Uvg.js";import{P as q}from"./plus-Bt1b09uS.js";import"./trash-2-B7Vf6_PR.js";/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G=[["circle",{cx:"8",cy:"18",r:"4",key:"1fc0mg"}],["path",{d:"M12 18V2l7 4",key:"g04rme"}]],T=W("music-2",G),U=({open:g,artist:l,onClose:f,onViewWorks:i})=>{var u,j,c;return l?e.jsx(C,{open:g,onClose:f,title:l.name,width:"max-w-3xl",children:e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-sm text-zinc-400",children:l.bio}),((u=l.genres)==null?void 0:u.length)>0&&e.jsx("div",{className:"flex flex-wrap gap-2",children:l.genres.map(a=>e.jsx(M,{children:a},a))}),((j=l.honors)==null?void 0:j.length)>0&&e.jsxs("div",{className:"space-y-2",children:[e.jsx("h4",{className:"text-xs uppercase tracking-[0.25em] text-lime-300/80",children:"Honours"}),e.jsx("ul",{className:"space-y-1 text-sm text-zinc-300",children:l.honors.map(a=>e.jsx("li",{children:a},a))})]}),((c=l.notableWorks)==null?void 0:c.length)>0&&e.jsxs("div",{className:"space-y-2",children:[e.jsx("h4",{className:"text-xs uppercase tracking-[0.25em] text-lime-300/80",children:"Notable Works"}),e.jsx("ul",{className:"space-y-1 text-sm text-zinc-300",children:l.notableWorks.map(a=>e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx(T,{size:14,className:"text-lime-300"}),e.jsx("span",{children:a})]},a))})]}),e.jsx("div",{className:"pt-4",children:e.jsxs("button",{type:"button",onClick:()=>i==null?void 0:i(l),className:"inline-flex items-center gap-2 rounded-full border border-lime-400/40 bg-lime-500/10 px-4 py-2 text-sm font-semibold text-lime-200 transition hover:bg-lime-500/20",children:[e.jsx(_,{size:16})," View songs produced together"]})})]})}):null},b={name:"",role:"",bio:"",genres:"",honors:"",notableWorks:"",showOnHome:!1},Y=()=>{const g=P(),{artists:l,addArtist:f,updateArtist:i,deleteArtist:u,applySongFilter:j,isAdmin:c}=L(),[a,v]=x.useState(null),[t,d]=x.useState(b),[m,N]=x.useState(null),[S,r]=x.useState(!1),[k,A]=x.useState(!1),z=s=>{if(!s||!s.id){console.error("Missing artist ID!");return}g(`/songs?artists=${s.id}`)},o=s=>{const{name:n,value:h,type:p,checked:E}=s.target;d(F=>({...F,[n]:p==="checkbox"?E:h}))},w=s=>s.split(",").map(n=>n.trim()).filter(Boolean),H=()=>{d(b),N(null),r(!0)},O=s=>{var n,h,p;N(s.id),d({name:s.name,role:s.role,bio:s.bio,genres:((n=s.genres)==null?void 0:n.join(", "))||"",honors:((h=s.honors)==null?void 0:h.join(", "))||"",notableWorks:((p=s.notableWorks)==null?void 0:p.join(", "))||"",showOnHome:s.showOnHome||!1}),r(!0)},I=async s=>{window.confirm("Are you sure you want to delete this artist?")&&(await u(s),m===s&&(r(!1),d(b)))},D=async s=>{if(s.preventDefault(),!!t.name){A(!0);try{const n={name:t.name,role:t.role,bio:t.bio,genres:w(t.genres),honors:w(t.honors),notableWorks:w(t.notableWorks),showOnHome:t.showOnHome};m?await i(m,n):await f(n),r(!1),d(b),N(null)}catch(n){console.error("Failed to save artist",n)}finally{A(!1)}}};return e.jsxs("div",{className:"space-y-16 text-white",children:[e.jsxs("section",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between gap-6",children:[e.jsx(B,{align:"left",eyebrow:"Collaborators",children:"Artists & Partners"}),e.jsx(y,{variant:"ghost",onClick:()=>window.location.assign("/songs"),children:"Explore catalogue â†’"})]}),e.jsxs("div",{className:"flex items-start justify-between gap-4",children:[e.jsx("p",{className:"text-zinc-400 max-w-2xl",children:"A curated network of vocalists, instrumentalists and producers we regularly work with at Olive Audio Lab."}),c&&e.jsxs("button",{onClick:H,className:"flex items-center gap-2 px-4 py-2 bg-lime-500/20 text-lime-400 hover:bg-lime-500/30 rounded-full text-sm font-semibold transition-colors border border-lime-500/30",children:[e.jsx(q,{size:16})," Add Artist"]})]}),e.jsx("div",{className:"grid gap-6 md:grid-cols-2 xl:grid-cols-3",children:l.map(s=>e.jsx(R,{artist:s,onClick:v,isAdmin:c,onEdit:O,onDelete:I},s.id))})]}),e.jsx(C,{open:S,onClose:()=>r(!1),title:m?"Edit Artist":"Add New Artist",children:e.jsxs("form",{className:"space-y-4",onSubmit:D,children:[e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsxs("div",{className:"md:col-span-2 flex items-center gap-3 p-4 rounded-2xl border border-white/10 bg-black/40",children:[e.jsx("input",{type:"checkbox",name:"showOnHome",id:"showOnHome",checked:t.showOnHome,onChange:o,className:"w-5 h-5 rounded border-zinc-600 text-lime-500 focus:ring-lime-500 bg-black/50"}),e.jsx("label",{htmlFor:"showOnHome",className:"text-sm text-zinc-300 select-none cursor-pointer",children:"Show on Home Page (Featured Artists)"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm text-zinc-400",children:"Name"}),e.jsx("input",{name:"name",value:t.name,onChange:o,className:"w-full rounded-2xl border border-white/10 bg-black/40 px-4 py-3 text-sm focus:border-lime-400 focus:outline-none",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm text-zinc-400",children:"Role"}),e.jsx("input",{name:"role",value:t.role,onChange:o,className:"w-full rounded-2xl border border-white/10 bg-black/40 px-4 py-3 text-sm focus:border-lime-400 focus:outline-none"})]}),e.jsxs("div",{className:"space-y-2 md:col-span-2",children:[e.jsx("label",{className:"text-sm text-zinc-400",children:"Bio"}),e.jsx("textarea",{name:"bio",value:t.bio,onChange:o,className:"w-full rounded-2xl border border-white/10 bg-black/40 px-4 py-3 text-sm focus:border-lime-400 focus:outline-none",rows:3})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm text-zinc-400",children:"Genres (comma separated)"}),e.jsx("input",{name:"genres",value:t.genres,onChange:o,className:"w-full rounded-2xl border border-white/10 bg-black/40 px-4 py-3 text-sm focus:border-lime-400 focus:outline-none"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm text-zinc-400",children:"Honours (comma separated)"}),e.jsx("input",{name:"honors",value:t.honors,onChange:o,className:"w-full rounded-2xl border border-white/10 bg-black/40 px-4 py-3 text-sm focus:border-lime-400 focus:outline-none"})]}),e.jsxs("div",{className:"space-y-2 md:col-span-2",children:[e.jsx("label",{className:"text-sm text-zinc-400",children:"Notable Works (comma separated)"}),e.jsx("input",{name:"notableWorks",value:t.notableWorks,onChange:o,className:"w-full rounded-2xl border border-white/10 bg-black/40 px-4 py-3 text-sm focus:border-lime-400 focus:outline-none"})]})]}),e.jsxs("div",{className:"flex gap-3 justify-end pt-4",children:[e.jsx(y,{variant:"ghost",type:"button",onClick:()=>r(!1),children:"Cancel"}),e.jsx(y,{type:"submit",variant:"primary",disabled:k,children:k?"Saving...":m?"Update Artist":"Add Artist"})]})]})}),e.jsx(U,{open:!!a,artist:a,onClose:()=>v(null),onViewWorks:z})]})};export{Y as default};
