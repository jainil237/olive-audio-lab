import{c as r,u as p,r as g,j as e,S as j,X as f,A as u}from"./index-DD_3ITo-.js";import{T as b}from"./trash-2-DCQbj37L.js";/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],d=r("calendar",N);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],w=r("dollar-sign",v);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],o=r("mail",y);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],x=r("user",k),z=({query:t,onClose:n})=>{if(!t)return null;const c=i=>{if(!i)return"";const l=i.toDate?i.toDate():new Date(i);return new Intl.DateTimeFormat("en-US",{dateStyle:"full",timeStyle:"short"}).format(l)};return e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/80 backdrop-blur-sm animate-in fade-in duration-200",children:e.jsxs("div",{className:"bg-[#111] border border-white/10 w-full max-w-2xl rounded-2xl p-6 shadow-2xl relative",children:[e.jsx("button",{onClick:n,className:"absolute top-4 right-4 p-2 text-zinc-500 hover:text-white bg-white/5 hover:bg-white/10 rounded-full transition-colors",children:e.jsx(f,{size:20})}),e.jsxs("div",{className:"mb-6 pr-10",children:[e.jsx("h3",{className:"text-2xl font-bold text-white mb-1",children:t.projectType||"General Inquiry"}),e.jsxs("div",{className:"flex flex-wrap items-center gap-3 text-sm text-zinc-400",children:[e.jsxs("span",{className:"flex items-center gap-1.5",children:[e.jsx(x,{size:14})," ",t.name]}),e.jsx("span",{children:"•"}),e.jsxs("span",{className:"flex items-center gap-1.5 text-lime-400",children:[e.jsx(o,{size:14})," ",t.email]}),e.jsx("span",{children:"•"}),e.jsxs("span",{className:"flex items-center gap-1.5",children:[e.jsx(d,{size:14})," ",c(t.createdAt)]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"p-4 rounded-xl bg-white/5 border border-white/5 space-y-1",children:[e.jsx("span",{className:"text-xs font-semibold text-zinc-500 uppercase tracking-wider",children:"Budget Range"}),e.jsxs("div",{className:"text-lg text-white font-medium flex items-center gap-2",children:[e.jsx(w,{size:18,className:"text-lime-500"}),t.budget||"Not specified"]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("span",{className:"text-xs font-semibold text-zinc-500 uppercase tracking-wider",children:"Project Brief"}),e.jsx("div",{className:"p-5 rounded-xl bg-black/40 border border-white/5 text-zinc-300 leading-relaxed whitespace-pre-wrap max-h-[40vh] overflow-y-auto custom-scrollbar",children:t.message||"No additional details provided."})]})]}),e.jsx("div",{className:"mt-8 flex justify-end",children:e.jsx(u,{variant:"ghost",onClick:n,children:"Close"})})]})})},S=()=>{const{queries:t,deleteQuery:n,isAdmin:c}=p(),[i,l]=g.useState(null),m=async(s,a)=>{s.stopPropagation(),window.confirm("Are you sure you want to delete this message?")&&(await n(a),(i==null?void 0:i.id)===a&&l(null))};if(!c)return e.jsx("div",{className:"flex h-[50vh] items-center justify-center text-zinc-500",children:"Access Denied. Admin only."});const h=s=>{if(!s)return"";const a=s.toDate?s.toDate():new Date(s);return new Intl.DateTimeFormat("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}).format(a)};return e.jsxs("div",{className:"space-y-10 text-white min-h-screen",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(j,{align:"left",eyebrow:"Inbox",children:"Received Queries"}),e.jsxs("div",{className:"text-zinc-400 text-sm",children:[t.length," ",t.length===1?"Message":"Messages"]})]}),e.jsx("div",{className:"grid gap-4",children:t.length===0?e.jsxs("div",{className:"py-20 text-center border border-dashed border-white/10 rounded-2xl bg-white/5",children:[e.jsx(o,{className:"w-10 h-10 text-zinc-600 mx-auto mb-3"}),e.jsx("p",{className:"text-zinc-500",children:"No queries received yet."})]}):t.map(s=>e.jsxs("div",{onClick:()=>l(s),className:"group relative bg-[#111] border border-white/10 rounded-2xl p-5 transition-all hover:border-lime-500/30 hover:bg-white/5 cursor-pointer",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-start justify-between gap-4 mb-3",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"p-2 bg-lime-500/10 rounded-full text-lime-400 shrink-0 mt-1",children:e.jsx(x,{size:18})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-white text-lg leading-tight",children:s.name||"Unknown Sender"}),e.jsx("div",{className:"flex flex-wrap items-center gap-x-2 gap-y-1 mt-1",children:e.jsx("a",{href:`mailto:${s.email}`,onClick:a=>a.stopPropagation(),className:"text-sm text-zinc-400 hover:text-lime-400 transition-colors flex items-center gap-1",children:s.email})})]})]}),e.jsxs("div",{className:"flex items-center gap-3 shrink-0 self-start md:self-auto pl-11 md:pl-0",children:[e.jsxs("div",{className:"flex items-center gap-2 text-xs text-zinc-500 bg-black/40 px-3 py-1.5 rounded-full border border-white/5 font-mono whitespace-nowrap",children:[e.jsx(d,{size:12}),s.createdAt?h(s.createdAt):"No Date"]}),e.jsx("button",{onClick:a=>m(a,s.id),className:"p-2 text-zinc-500 hover:text-red-400 hover:bg-red-500/10 rounded-lg transition-colors opacity-0 group-hover:opacity-100 focus:opacity-100",title:"Delete Message",children:e.jsx(b,{size:18})})]})]}),e.jsxs("div",{className:"space-y-2 pl-0 md:pl-[3.25rem]",children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[s.projectType&&e.jsx("span",{className:"inline-block px-2 py-0.5 rounded bg-white/10 text-[10px] font-medium text-zinc-300 tracking-wide uppercase border border-white/5",children:s.projectType}),s.budget&&e.jsxs("span",{className:"inline-block px-2 py-0.5 rounded bg-lime-500/10 text-[10px] font-medium text-lime-400 tracking-wide border border-lime-500/20",children:["Budget: ",s.budget]})]}),e.jsx("p",{className:"text-zinc-400 text-sm line-clamp-2",children:s.message||e.jsx("span",{className:"italic opacity-50",children:"No details provided..."})})]})]},s.id))}),e.jsx(z,{query:i,onClose:()=>l(null)})]})};export{S as default};
