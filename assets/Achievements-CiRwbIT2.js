import{u as O,r as n,j as e,S,A as b}from"./index-Cc9ETlLz.js";import{M as H}from"./Modal-CQEy1vg2.js";import{P as E}from"./plus-Bt1b09uS.js";const M=({onEdit:m,onDelete:u})=>{const[x,r]=n.useState(!1),o=n.useRef(null);return n.useEffect(()=>{const s=a=>{o.current&&!o.current.contains(a.target)&&r(!1)};return document.addEventListener("mousedown",s),()=>document.removeEventListener("mousedown",s)},[]),e.jsxs("div",{className:"relative",ref:o,children:[e.jsx("button",{onClick:s=>{s.stopPropagation(),r(!x)},className:"p-2 text-zinc-400 hover:text-white hover:bg-white/10 rounded-full transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"})})}),x&&e.jsxs("div",{className:"absolute right-0 top-8 w-32 bg-[#1a1a1a] border border-white/10 rounded-lg shadow-xl z-20 overflow-hidden py-1",children:[e.jsx("button",{onClick:()=>{m(),r(!1)},className:"w-full text-left px-4 py-2 text-sm text-zinc-300 hover:bg-white/10 hover:text-white transition-colors",children:"Edit"}),e.jsx("button",{onClick:()=>{u(),r(!1)},className:"w-full text-left px-4 py-2 text-sm text-red-400 hover:bg-red-500/10 transition-colors",children:"Delete"})]})]})},h={title:"",desc:"",year:"",category:"",link:"",showOnHome:!1},P=()=>{const{achievements:m,addAchievement:u,updateAchievement:x,deleteAchievement:r,isAdmin:o}=O(),[s,a]=n.useState(h),[d,p]=n.useState(null),[w,i]=n.useState(!1),[f,g]=n.useState(!1),c=t=>{const{name:l,value:k,type:A,checked:z}=t.target;a(C=>({...C,[l]:A==="checkbox"?z:k}))},v=()=>{a({...h,year:new Date().getFullYear()}),p(null),i(!0)},j=t=>{p(t.id),a({title:t.title,desc:t.desc,year:t.year,category:t.category||"",link:t.link||"",showOnHome:t.showOnHome||!1}),i(!0)},y=async t=>{window.confirm("Are you sure you want to delete this achievement?")&&(await r(t),d===t&&(i(!1),a(h)))},N=async t=>{if(t.preventDefault(),!!s.title){g(!0);try{const l={title:s.title,desc:s.desc,year:s.year,category:s.category,link:s.link,showOnHome:s.showOnHome};d?await x(d,l):await u(l),i(!1),a(h),p(null)}catch(l){console.error("Failed to save achievement",l)}finally{g(!1)}}};return e.jsxs("div",{className:"space-y-16 text-white min-h-screen",children:[e.jsxs("section",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between gap-6",children:[e.jsx(S,{align:"left",eyebrow:"Recognition",children:"Awards & Milestones"}),e.jsx(b,{variant:"ghost",onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),children:"Back to top ↑"})]}),e.jsxs("div",{className:"flex flex-col md:flex-row md:items-start justify-between gap-6 pb-2",children:[e.jsx("p",{className:"text-zinc-400 max-w-2xl",children:"Highlights from years of collaboration across production, mixing and mastering for leading artists."}),o&&e.jsxs("button",{onClick:v,className:"flex items-center gap-2 px-4 py-2 bg-lime-500/20 text-lime-400 hover:bg-lime-500/30 rounded-full text-sm font-semibold transition-colors border border-lime-500/30 shrink-0",children:[e.jsx(E,{size:16})," Add Achievement"]})]})]}),e.jsxs("section",{className:"relative space-y-8 pl-4 md:pl-0 mt-8",children:[e.jsx("div",{className:"absolute left-4 md:left-[8.5rem] top-2 bottom-2 w-px bg-gradient-to-b from-lime-500/50 via-white/10 to-transparent"}),m.sort((t,l)=>l.year-t.year).map(t=>e.jsxs("div",{className:"relative flex flex-col md:flex-row gap-6 md:gap-12 group",children:[e.jsx("div",{className:"md:w-32 md:text-right shrink-0 pt-1",children:e.jsx("span",{className:"text-lime-400 font-mono text-lg font-bold",children:t.year})}),e.jsx("div",{className:"absolute left-4 md:left-[8.5rem] -translate-x-1/2 mt-2 w-3 h-3 rounded-full bg-black border-2 border-lime-500 shadow-[0_0_10px_rgba(132,204,22,0.4)] z-10"}),e.jsxs("div",{className:"flex-1 bg-white/5 hover:bg-white/10 border border-white/5 hover:border-white/20 rounded-2xl p-6 transition-all duration-300 ml-8 md:ml-0 relative",children:[o&&e.jsx("div",{className:"absolute top-4 right-4 z-20",children:e.jsx(M,{onEdit:()=>j(t),onDelete:()=>y(t.id)})}),e.jsxs("div",{className:"space-y-2 pr-8",children:[e.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[e.jsx("h3",{className:"text-xl font-bold text-white",children:t.title}),t.category&&e.jsx("span",{className:"text-[10px] uppercase tracking-wider px-2 py-0.5 rounded-full bg-white/10 text-zinc-400 border border-white/5",children:t.category})]}),e.jsx("p",{className:"text-zinc-400 text-sm leading-relaxed max-w-2xl",children:t.desc}),t.link&&e.jsx("a",{href:t.link,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 text-xs font-medium text-lime-400 hover:text-lime-300 mt-2",children:"View Achievement ↗"})]})]})]},t.id)),m.length===0&&e.jsx("div",{className:"text-center py-20 text-zinc-500 ml-0 md:ml-32",children:"No achievements yet."})]}),e.jsx(H,{open:w,onClose:()=>i(!1),title:d?"Edit Achievement":"Add New Achievement",children:e.jsxs("form",{className:"space-y-4",onSubmit:N,children:[e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsxs("div",{className:"md:col-span-2 flex items-center gap-3 p-4 rounded-2xl border border-white/10 bg-black/40",children:[e.jsx("input",{type:"checkbox",name:"showOnHome",id:"showOnHome",checked:s.showOnHome,onChange:c,className:"w-5 h-5 rounded border-zinc-600 text-lime-500 focus:ring-lime-500 bg-black/50"}),e.jsx("label",{htmlFor:"showOnHome",className:"text-sm text-zinc-300 select-none cursor-pointer",children:"Show on Home Page (Awards & Milestones)"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm text-zinc-400",children:"Title"}),e.jsx("input",{name:"title",value:s.title,onChange:c,className:"w-full rounded-2xl border border-white/10 bg-black/40 px-4 py-3 text-sm focus:border-lime-400 focus:outline-none",required:!0,placeholder:"Award Name"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm text-zinc-400",children:"Year"}),e.jsx("input",{name:"year",value:s.year,onChange:c,className:"w-full rounded-2xl border border-white/10 bg-black/40 px-4 py-3 text-sm focus:border-lime-400 focus:outline-none"})]}),e.jsxs("div",{className:"space-y-2 md:col-span-2",children:[e.jsx("label",{className:"text-sm text-zinc-400",children:"Description"}),e.jsx("textarea",{name:"desc",value:s.desc,onChange:c,className:"w-full rounded-2xl border border-white/10 bg-black/40 px-4 py-3 text-sm focus:border-lime-400 focus:outline-none",rows:3})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm text-zinc-400",children:"Category"}),e.jsx("input",{name:"category",value:s.category,onChange:c,className:"w-full rounded-2xl border border-white/10 bg-black/40 px-4 py-3 text-sm focus:border-lime-400 focus:outline-none",placeholder:"e.g. Production"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm text-zinc-400",children:"Link (Optional)"}),e.jsx("input",{name:"link",type:"url",value:s.link,onChange:c,className:"w-full rounded-2xl border border-white/10 bg-black/40 px-4 py-3 text-sm focus:border-lime-400 focus:outline-none",placeholder:"https://..."})]})]}),e.jsxs("div",{className:"flex gap-3 justify-end pt-4",children:[e.jsx(b,{variant:"ghost",type:"button",onClick:()=>i(!1),children:"Cancel"}),e.jsx(b,{type:"submit",variant:"primary",disabled:f,children:f?"Saving...":d?"Save Achievement":"Add Achievement"})]})]})})]})};export{P as default};
